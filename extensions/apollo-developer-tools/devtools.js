(()=>{"use strict";var e={9431:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(n(3256));class i extends o.default{constructor(){super(...arguments),this.connections=new Map,this.addConnection=(e,t)=>{function n(e){return t(e.detail)}return this.addEventListener(e,n),this.connections.set(e,n),()=>this.removeConnection(e)},this.removeConnection=e=>{const t=this.connections.get(e);t&&(this.removeEventListener(e,t),this.connections.delete(e))},this.createEvent=e=>new CustomEvent(e,{detail:{}}),this.broadcast=e=>{let t=this.createEvent(e.message);if(null==e?void 0:e.to){let n,s,o=e.to;t.detail.to=o,o.includes(":")&&([o,...s]=e.to.split(":"),n=s.join(":")),this.connections.has(o)&&(t=this.createEvent(o),t.detail.to=n)}t.detail.message=e.message,t.detail.payload=e.payload,this.dispatchEvent(t)},this.listen=(e,t)=>{function n(e){return t(e.detail)}return this.addEventListener(e,n),()=>{this.removeEventListener(e,n)}},this.send=e=>{this.broadcast(e)},this.forward=(e,t)=>this.listen(e,(e=>{this.broadcast(Object.assign(Object.assign({},e),{to:t}))}))}}t.default=i},3256:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.listeners=new Map}addEventListener(e,t){this.listeners.has(e)||this.listeners.set(e,new Set);this.listeners.get(e).add(t)}removeEventListener(e,t){if(this.listeners.has(e)){this.listeners.get(e).delete(t)}}dispatchEvent(e){if(this.listeners.has(null==e?void 0:e.type)){this.listeners.get(e.type).forEach((t=>t(e)))}}}},9392:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EXPLORER_SUBSCRIPTION_TERMINATION=t.EMBEDDABLE_EXPLORER_URL=t.RELOAD_TAB_COMPLETE=t.RELOADING_TAB=t.EXPLORER_RESPONSE=t.EXPLORER_REQUEST=t.PANEL_CLOSED=t.PANEL_OPEN=t.UPDATE=t.REQUEST_DATA=t.ACTION_HOOK_FIRED=t.CREATE_DEVTOOLS_PANEL=t.APOLLO_CLIENT_FOUND=t.FIND_APOLLO_CLIENT=t.DEVTOOLS_INITIALIZED=t.REQUEST_TAB_ID=t.CLIENT_FOUND=void 0,t.CLIENT_FOUND="client-found",t.REQUEST_TAB_ID="request-tab-id",t.DEVTOOLS_INITIALIZED="devtools-initialized",t.FIND_APOLLO_CLIENT="find-apollo-client",t.APOLLO_CLIENT_FOUND="apollo-client-found",t.CREATE_DEVTOOLS_PANEL="create-devtools-panel",t.ACTION_HOOK_FIRED="action-hook-fired",t.REQUEST_DATA="request-data",t.UPDATE="update",t.PANEL_OPEN="panel-open",t.PANEL_CLOSED="panel-closed",t.EXPLORER_REQUEST="explorer-request",t.EXPLORER_RESPONSE="explorer-response",t.RELOADING_TAB="reloading-tab",t.RELOAD_TAB_COMPLETE="reload-tab-complete",t.EMBEDDABLE_EXPLORER_URL="https://explorer.embed.apollographql.com",t.EXPLORER_SUBSCRIPTION_TERMINATION="ExplorerSubscriptionTermination"},9240:function(e,t,n){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(n(9431)),i=n(9392),r=chrome.devtools.inspectedWindow.tabId,a=new o.default,E=chrome.runtime.connect({name:`devtools-${r}`});function l(e){a.send({message:e,to:`background:tab-${r}:client`})}function d(e=500){l(i.REQUEST_DATA);const t=setInterval(l,e,i.REQUEST_DATA);return()=>clearInterval(t)}E.onMessage.addListener(a.broadcast),a.addConnection("background",(e=>{try{E.postMessage(e)}catch(e){a.removeConnection("background")}})),l(i.DEVTOOLS_INITIALIZED);let c=!1,_=!1;a.addConnection(i.EXPLORER_SUBSCRIPTION_TERMINATION,(()=>{l(i.EXPLORER_SUBSCRIPTION_TERMINATION)})),a.listen(i.CREATE_DEVTOOLS_PANEL,(({payload:e})=>{c||chrome.devtools.panels.create("Apollo","logo_devtools.png","panel.html",(function(t){c=!0;const{queries:n,mutations:s,cache:o}=JSON.parse(e);let E,O,L,u,T,R;t.onShown.addListener((e=>{l(i.PANEL_OPEN);const{__DEVTOOLS_APPLICATION__:{initialize:t,writeData:c,receiveExplorerRequests:h,receiveSubscriptionTerminationRequest:p,sendResponseToExplorer:A,handleReload:N,handleReloadComplete:I}}=e;_||(t(),c({queries:n,mutations:s,cache:JSON.stringify(o)}),_=!0),T=d(),E=a.listen(i.UPDATE,(({payload:e})=>{const{queries:t,mutations:n,cache:s}=JSON.parse(e);c({queries:t,mutations:n,cache:JSON.stringify(s)})})),a.addConnection("explorer",A),R=h((({detail:e})=>{a.broadcast(e)})),L=p((({detail:e})=>{a.broadcast(e)})),O=a.forward(i.EXPLORER_REQUEST,`background:tab-${r}:client`),u=a.listen(i.RELOADING_TAB,(()=>{N(),T();const e=a.listen(i.RELOAD_TAB_COMPLETE,(()=>{T=d(),I(),e()}))}))})),t.onHidden.addListener((()=>{c=!1,T(),O(),L(),E(),u(),R(),a.removeConnection("explorer"),l(i.PANEL_CLOSED)}))}))}))}},t={};(function n(s){var o=t[s];if(void 0!==o)return o.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,n),i.exports})(9240)})();