(()=>{"use strict";var e={9431:function(e,t,E){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(E(3256));class o extends s.default{constructor(){super(...arguments),this.connections=new Map,this.addConnection=(e,t)=>{function E(e){return t(e.detail)}return this.addEventListener(e,E),this.connections.set(e,E),()=>this.removeConnection(e)},this.removeConnection=e=>{const t=this.connections.get(e);t&&(this.removeEventListener(e,t),this.connections.delete(e))},this.createEvent=e=>new CustomEvent(e,{detail:{}}),this.broadcast=e=>{let t=this.createEvent(e.message);if(null==e?void 0:e.to){let E,n,s=e.to;t.detail.to=s,s.includes(":")&&([s,...n]=e.to.split(":"),E=n.join(":")),this.connections.has(s)&&(t=this.createEvent(s),t.detail.to=E)}t.detail.message=e.message,t.detail.payload=e.payload,this.dispatchEvent(t)},this.listen=(e,t)=>{function E(e){return t(e.detail)}return this.addEventListener(e,E),()=>{this.removeEventListener(e,E)}},this.send=e=>{this.broadcast(e)},this.forward=(e,t)=>this.listen(e,(e=>{this.broadcast(Object.assign(Object.assign({},e),{to:t}))}))}}t.default=o},9039:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.postMessageToEmbed=t.EXPLORER_SUBSCRIPTION_TERMINATION=t.EMBEDDABLE_EXPLORER_URL=t.DEV_TOOLS_AUTHENTICATE_WITH_GRAPHREF=t.SCHEMA_RESPONSE=t.SCHEMA_ERROR=t.SET_OPERATION=t.EXPLORER_SUBSCRIPTION_RESPONSE=t.EXPLORER_SUBSCRIPTION_REQUEST=t.EXPLORER_RESPONSE=t.EXPLORER_REQUEST=t.EXPLORER_LISTENING_FOR_STATE=t.EXPLORER_LISTENING_FOR_SCHEMA=void 0,t.EXPLORER_LISTENING_FOR_SCHEMA="ExplorerListeningForSchema",t.EXPLORER_LISTENING_FOR_STATE="ExplorerListeningForState",t.EXPLORER_REQUEST="ExplorerRequest",t.EXPLORER_RESPONSE="ExplorerResponse",t.EXPLORER_SUBSCRIPTION_REQUEST="ExplorerSubscriptionRequest",t.EXPLORER_SUBSCRIPTION_RESPONSE="ExplorerSubscriptionResponse",t.SET_OPERATION="SetOperation",t.SCHEMA_ERROR="SchemaError",t.SCHEMA_RESPONSE="SchemaResponse",t.DEV_TOOLS_AUTHENTICATE_WITH_GRAPHREF="DevTools_AuthenticateWithGraphRef",t.EMBEDDABLE_EXPLORER_URL="https://explorer.embed.apollographql.com",t.EXPLORER_SUBSCRIPTION_TERMINATION="ExplorerSubscriptionTermination";t.postMessageToEmbed=({embeddedExplorerIFrame:e,message:E})=>{var n;null===(n=e.contentWindow)||void 0===n||n.postMessage(E,t.EMBEDDABLE_EXPLORER_URL)}},3256:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.listeners=new Map}addEventListener(e,t){this.listeners.has(e)||this.listeners.set(e,new Set);this.listeners.get(e).add(t)}removeEventListener(e,t){if(this.listeners.has(e)){this.listeners.get(e).delete(t)}}dispatchEvent(e){if(this.listeners.has(null==e?void 0:e.type)){this.listeners.get(e.type).forEach((t=>t(e)))}}}},9392:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RELOAD_TAB_COMPLETE=t.RELOADING_TAB=t.EXPLORER_RESPONSE=t.EXPLORER_REQUEST=t.PANEL_CLOSED=t.PANEL_OPEN=t.UPDATE=t.REQUEST_DATA=t.ACTION_HOOK_FIRED=t.CREATE_DEVTOOLS_PANEL=t.APOLLO_CLIENT_FOUND=t.FIND_APOLLO_CLIENT=t.DEVTOOLS_INITIALIZED=t.REQUEST_TAB_ID=t.CLIENT_FOUND=void 0,t.CLIENT_FOUND="client-found",t.REQUEST_TAB_ID="request-tab-id",t.DEVTOOLS_INITIALIZED="devtools-initialized",t.FIND_APOLLO_CLIENT="find-apollo-client",t.APOLLO_CLIENT_FOUND="apollo-client-found",t.CREATE_DEVTOOLS_PANEL="create-devtools-panel",t.ACTION_HOOK_FIRED="action-hook-fired",t.REQUEST_DATA="request-data",t.UPDATE="update",t.PANEL_OPEN="panel-open",t.PANEL_CLOSED="panel-closed",t.EXPLORER_REQUEST="explorer-request",t.EXPLORER_RESPONSE="explorer-response",t.RELOADING_TAB="reloading-tab",t.RELOAD_TAB_COMPLETE="reload-tab-complete"},9240:function(e,t,E){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=E(9039),o=n(E(9431)),i=E(9392),r=chrome.devtools.inspectedWindow.tabId,a=new o.default,_=chrome.runtime.connect({name:`devtools-${r}`});function l(e){a.send({message:e,to:`background:tab-${r}:client`})}function R(e=500){l(i.REQUEST_DATA);const t=setInterval(l,e,i.REQUEST_DATA);return()=>clearInterval(t)}_.onMessage.addListener(a.broadcast),a.addConnection("background",(e=>{try{_.postMessage(e)}catch(e){a.removeConnection("background")}}));let O=!1,d=!1;a.addConnection(s.EXPLORER_SUBSCRIPTION_TERMINATION,(()=>{l(s.EXPLORER_SUBSCRIPTION_TERMINATION)})),a.listen(i.CREATE_DEVTOOLS_PANEL,(({payload:e})=>{O||chrome.devtools.panels.create("Apollo","logo_devtools.png","panel.html",(function(t){O=!0;const{queries:E,mutations:n,cache:s}=JSON.parse(e);let o,_,c,T,L,S;t.onShown.addListener((e=>{l(i.PANEL_OPEN);const{__DEVTOOLS_APPLICATION__:{initialize:t,writeData:O,receiveExplorerRequests:u,receiveSubscriptionTerminationRequest:p,sendResponseToExplorer:A,handleReload:I,handleReloadComplete:N}}=e;d||(t(),O({queries:E,mutations:n,cache:JSON.stringify(s)}),d=!0),L=R(),o=a.listen(i.UPDATE,(({payload:e})=>{const{queries:t,mutations:E,cache:n}=JSON.parse(e);O({queries:t,mutations:E,cache:JSON.stringify(n)})})),a.addConnection("explorer",A),S=u((({detail:e})=>{a.broadcast(e)})),c=p((({detail:e})=>{a.broadcast(e)})),_=a.forward(i.EXPLORER_REQUEST,`background:tab-${r}:client`),T=a.listen(i.RELOADING_TAB,(()=>{I(),L();const e=a.listen(i.RELOAD_TAB_COMPLETE,(()=>{L=R(),N(),e()}))}))})),t.onHidden.addListener((()=>{O=!1,L(),_(),c(),o(),T(),S(),a.removeConnection("explorer"),l(i.PANEL_CLOSED)}))}))})),l(i.DEVTOOLS_INITIALIZED)}},t={};(function E(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,E),o.exports})(9240)})();